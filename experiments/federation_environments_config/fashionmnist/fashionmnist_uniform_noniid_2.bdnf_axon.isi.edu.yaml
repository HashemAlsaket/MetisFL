FederationEnvironment:
  DockerImage: null # null indicates to run Metis without docker, if it is provided then run using the specified image
  TerminationSignals:
    FederationRounds: 100 # only in synchronous execution
    ExecutionCutoffTimeMins: 1440
    MetricCutoffScore: 1.0
  EvaluationMetric: "accuracy"
  CommunicationProtocol: "SYNCHRONOUS"
  GlobalModelConfig:
    AggregationFunction: "FED_AVG"
    ParticipationRatio: 1
  LocalModelConfig:
    BatchSize: 32
    LocalEpochs: 4
    ValidationPercentage: 0.0
    OptimizerConfig:
      OptimizerName: "VanillaSGD"
      LearningRate: 0.02
  Controller:
    ProjectHome: "/data/stripeli/projectmetis-rc"
    ConnectionConfigs:
      Hostname: "axon.isi.edu"
      Username: "stripeli"
      Password: ""
      KeyFilename: "/nas/home/stripeli/.ssh/id_rsa"
      Passphrase: "stripeli"
      OnLogin: "export CC=/opt/rh/devtoolset-9/root/usr/bin/gcc;"
    GRPCServicer:
      Port: 40050
  Learners:
    - LearnerID: "BDNF-1"
      ProjectHome: "/lfs1/stripeli/condaprojects/projectmetisrc_test/projectmetis-rc"
      ConnectionConfigs:
        Hostname: "bdnf.isi.edu"
        Username: "stripeli"
        Password: ""
        KeyFilename: "/nas/home/stripeli/.ssh/id_rsa"
        Passphrase: "stripeli"
        OnLogin: "export CC=/opt/rh/devtoolset-9/root/usr/bin/gcc;"
      GRPCServicer:
        Port: 4221
      CudaDevices: [0]
      DatasetConfigs:
        TrainDatasetPath: "/lfs1/shared/fashionmnist_federated_partitions/uniform_datasize_noniid_2_x10clients/train_1.npz"
        ValidationDatasetPath: ""
        TestDatasetPath: "/lfs1/shared/fashionmnist_federated_partitions/test.npz"
    - LearnerID: "BDNF-2"
      ProjectHome: "/lfs1/stripeli/condaprojects/projectmetisrc_test/projectmetis-rc"
      ConnectionConfigs:
        Hostname: "bdnf.isi.edu"
        Username: "stripeli"
        Password: ""
        KeyFilename: "/nas/home/stripeli/.ssh/id_rsa"
        Passphrase: "stripeli"
        OnLogin: "export CC=/opt/rh/devtoolset-9/root/usr/bin/gcc;"
      GRPCServicer:
        Port: 4222
      CudaDevices: [1]
      DatasetConfigs:
        TrainDatasetPath: "/lfs1/shared/fashionmnist_federated_partitions/uniform_datasize_noniid_2_x10clients/train_2.npz"
        ValidationDatasetPath: ""
        TestDatasetPath: "/lfs1/shared/fashionmnist_federated_partitions/test.npz"
    - LearnerID: "BDNF-3"
      ProjectHome: "/lfs1/stripeli/condaprojects/projectmetisrc_test/projectmetis-rc"
      ConnectionConfigs:
        Hostname: "bdnf.isi.edu"
        Username: "stripeli"
        Password: ""
        KeyFilename: "/nas/home/stripeli/.ssh/id_rsa"
        Passphrase: "stripeli"
        OnLogin: "export CC=/opt/rh/devtoolset-9/root/usr/bin/gcc;"
      GRPCServicer:
        Port: 4223
      CudaDevices: [2]
      DatasetConfigs:
        TrainDatasetPath: "/lfs1/shared/fashionmnist_federated_partitions/uniform_datasize_noniid_2_x10clients/train_3.npz"
        ValidationDatasetPath: ""
        TestDatasetPath: "/lfs1/shared/fashionmnist_federated_partitions/test.npz"
    - LearnerID: "BDNF-4"
      ProjectHome: "/lfs1/stripeli/condaprojects/projectmetisrc_test/projectmetis-rc"
      ConnectionConfigs:
        Hostname: "bdnf.isi.edu"
        Username: "stripeli"
        Password: ""
        KeyFilename: "/nas/home/stripeli/.ssh/id_rsa"
        Passphrase: "stripeli"
        OnLogin: "export CC=/opt/rh/devtoolset-9/root/usr/bin/gcc;"
      GRPCServicer:
        Port: 4224
      CudaDevices: [4]
      DatasetConfigs:
        TrainDatasetPath: "/lfs1/shared/fashionmnist_federated_partitions/uniform_datasize_noniid_2_x10clients/train_4.npz"
        ValidationDatasetPath: ""
        TestDatasetPath: "/lfs1/shared/fashionmnist_federated_partitions/test.npz"
    - LearnerID: "BDNF-5"
      ProjectHome: "/lfs1/stripeli/condaprojects/projectmetisrc_test/projectmetis-rc"
      ConnectionConfigs:
        Hostname: "bdnf.isi.edu"
        Username: "stripeli"
        Password: ""
        KeyFilename: "/nas/home/stripeli/.ssh/id_rsa"
        Passphrase: "stripeli"
        OnLogin: "export CC=/opt/rh/devtoolset-9/root/usr/bin/gcc;"
      GRPCServicer:
        Port: 4225
      CudaDevices: [5]
      DatasetConfigs:
        TrainDatasetPath: "/lfs1/shared/fashionmnist_federated_partitions/uniform_datasize_noniid_2_x10clients/train_5.npz"
        ValidationDatasetPath: ""
        TestDatasetPath: "/lfs1/shared/fashionmnist_federated_partitions/test.npz"
    - LearnerID: "AXON-1"
      ProjectHome: "/data/stripeli/projectmetis-rc"
      ConnectionConfigs:
        Hostname: "axon.isi.edu"
        Username: "stripeli"
        Password: ""
        KeyFilename: "/nas/home/stripeli/.ssh/id_rsa"
        Passphrase: "stripeli"
        OnLogin: "export CC=/opt/rh/devtoolset-9/root/usr/bin/gcc;"
      GRPCServicer:
        Port: 4221
      CudaDevices: [0]
      DatasetConfigs:
        TrainDatasetPath: "/data/shared/fashionmnist_federated_partitions/uniform_datasize_noniid_2_x10clients/train_6.npz"
        ValidationDatasetPath: ""
        TestDatasetPath: "/data/shared/fashionmnist_federated_partitions/test.npz"
    - LearnerID: "AXON-2"
      ProjectHome: "/data/stripeli/projectmetis-rc"
      ConnectionConfigs:
        Hostname: "axon.isi.edu"
        Username: "stripeli"
        Password: ""
        KeyFilename: "/nas/home/stripeli/.ssh/id_rsa"
        Passphrase: "stripeli"
        OnLogin: "export CC=/opt/rh/devtoolset-9/root/usr/bin/gcc;"
      GRPCServicer:
        Port: 4222
      CudaDevices: [0]
      DatasetConfigs:
        TrainDatasetPath: "/data/shared/fashionmnist_federated_partitions/uniform_datasize_noniid_2_x10clients/train_7.npz"
        ValidationDatasetPath: ""
        TestDatasetPath: "/data/shared/fashionmnist_federated_partitions/test.npz"
    - LearnerID: "AXON-3"
      ProjectHome: "/data/stripeli/projectmetis-rc"
      ConnectionConfigs:
        Hostname: "axon.isi.edu"
        Username: "stripeli"
        Password: ""
        KeyFilename: "/nas/home/stripeli/.ssh/id_rsa"
        Passphrase: "stripeli"
        OnLogin: "export CC=/opt/rh/devtoolset-9/root/usr/bin/gcc;"
      GRPCServicer:
        Port: 4223
      CudaDevices: [0]
      DatasetConfigs:
        TrainDatasetPath: "/data/shared/fashionmnist_federated_partitions/uniform_datasize_noniid_2_x10clients/train_8.npz"
        ValidationDatasetPath: ""
        TestDatasetPath: "/data/shared/fashionmnist_federated_partitions/test.npz"
    - LearnerID: "AXON-4"
      ProjectHome: "/data/stripeli/projectmetis-rc"
      ConnectionConfigs:
        Hostname: "axon.isi.edu"
        Username: "stripeli"
        Password: ""
        KeyFilename: "/nas/home/stripeli/.ssh/id_rsa"
        Passphrase: "stripeli"
        OnLogin: "export CC=/opt/rh/devtoolset-9/root/usr/bin/gcc;"
      GRPCServicer:
        Port: 4224
      CudaDevices: [1]
      DatasetConfigs:
        TrainDatasetPath: "/data/shared/fashionmnist_federated_partitions/uniform_datasize_noniid_2_x10clients/train_9.npz"
        ValidationDatasetPath: ""
        TestDatasetPath: "/data/shared/fashionmnist_federated_partitions/test.npz"
    - LearnerID: "AXON-5"
      ProjectHome: "/data/stripeli/projectmetis-rc"
      ConnectionConfigs:
        Hostname: "axon.isi.edu"
        Username: "stripeli"
        Password: ""
        KeyFilename: "/nas/home/stripeli/.ssh/id_rsa"
        Passphrase: "stripeli"
        OnLogin: "export CC=/opt/rh/devtoolset-9/root/usr/bin/gcc;"
      GRPCServicer:
        Port: 4225
      CudaDevices: [1]
      DatasetConfigs:
        TrainDatasetPath: "/data/shared/fashionmnist_federated_partitions/uniform_datasize_noniid_2_x10clients/train_10.npz"
        ValidationDatasetPath: ""
        TestDatasetPath: "/data/shared/fashionmnist_federated_partitions/test.npz"
